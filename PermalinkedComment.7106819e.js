webpackJsonp([1,5,6],{hYij:function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,i){if("string"!=typeof t){var m=Object.getOwnPropertyNames(t);o&&(m=m.concat(Object.getOwnPropertySymbols(t)));for(var a=0;a<m.length;++a)if(!(n[m[a]]||r[m[a]]||i&&i[m[a]]))try{e[m[a]]=t[m[a]]}catch(s){}}return e}},XL6o:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.displayName||e.name||"Component"}function i(e,t){var n=t&&t.withRef,r=c.default.createClass({displayName:"WithRouter",contextTypes:{router:u.routerShape},propTypes:{router:u.routerShape},getWrappedInstance:function(){return n?void 0:(0,s.default)(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router,o=m({},this.props,{router:r});return n&&(o.ref=function(e){t.wrappedInstance=e}),c.default.createElement(e,o)}});return r.displayName="withRouter("+o(e)+")",r.WrappedComponent=e,(0,l.default)(r,e)}t.__esModule=!0;var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var a=n("crWv"),s=r(a),d=n("U7vG"),c=r(d),p=n("hYij"),l=r(p),u=n("8xmk");e.exports=t.default},AcQZ:function(e,t,n){"use strict";var r=n("U7vG"),o=n("/hDg"),i=n("XL6o"),m=n("Hwo6"),a=n("VIGu"),s=n("uaYK"),d=n("NPdQ"),c=n("fsMb"),p=n("4fZb"),l=n("bFfS"),u=n("H9Jo"),h=n("SIDF"),f=r.createClass({displayName:"PermalinkedComment",mixins:[l,o],getDefaultProps:function(){return{level:0,loadingSpinner:!0}},getInitialState:function(){return{comment:c.getComment(this.props.params.id)||{},parent:{type:"comment"},op:{}}},componentWillMount:function(){d.offlineMode?s.itemRef(this.props.params.id).then(function(e){return e.json()}).then(function(e){this.replaceState({comment:e})}.bind(this)):this.bindAsObject(a.itemRef(this.props.params.id),"comment"),this.state.comment.id&&this.commentLoaded(this.state.comment)},componentWillReceiveProps:function(e){if(e.params.id!==this.props.params.id){var t=c.getComment(e.params.id);t&&(this.commentLoaded(t),this.setState({comment:t})),this.unbind("comment"),this.bindAsObject(a.itemRef(e.params.id),"comment")}},componentWillUpdate:function(e,t){if(t.comment&&this.state.comment.id!==t.comment.id){if(!t.comment.deleted&&"comment"!==t.comment.type)return void this.props.router.replace("/"+t.comment.type+"/"+t.comment.id);this.threadStore&&this.threadStore.itemId===t.comment.id||this.commentLoaded(t.comment)}},commentLoaded:function(e){this.setTitle(e),e.deleted||(this.threadStore=new m(e,this.handleCommentsChanged),this.fetchAncestors(e))},setTitle:function(e){if(e.deleted)return h("Deleted comment");var t="Comment by "+e.by;this.state.op.id&&(t+=" | "+this.state.op.title),h(t)},handleCommentsChanged:function(e){"collapse"===e.type&&this.forceUpdate()},render:function(){var e=this.state.comment;if(!e)return this.renderError(e,{id:this.props.params.id,className:"Comment Comment--level0 Comment--error"});if(!e.id)return this.renderCommentLoading(e);if(e.deleted)return this.renderCommentDeleted(e,{className:"Comment Comment--level0 Comment--deleted"});if("comment"!==e.type)return null;var t=u("PermalinkedComment Comment Comment--level0",{"Comment--dead":e.dead}),n=this.threadStore;return r.createElement("div",{className:t},r.createElement("div",{className:"Comment__content"},this.renderCommentMeta(e,{parent:!!this.state.parent.id&&!!this.state.op.id&&e.parent!==this.state.op.id,op:!!this.state.op.id}),(!e.dead||d.showDead)&&this.renderCommentText(e,{replyLink:!0})),e.kids&&r.createElement("div",{className:"Comment__kids"},e.kids.map(function(e,t){return r.createElement(p,{key:e,id:e,level:0,loadingSpinner:0===t,threadStore:n})})))}});e.exports=i(f)}});
//# sourceMappingURL=PermalinkedComment.7106819e.js.map